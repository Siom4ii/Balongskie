<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>BALONG POS</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <!-- Google Font -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
  <!-- Material Symbols for icons -->
  <link
    rel="stylesheet"
    href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
  />
  <link rel="icon" href="/assets/images/Balong.jpg">
  <link rel="stylesheet" href="/assets/CSS/styles.css" />
</head>
<body>
  <!-- LOGIN SCREEN -->
  <div id="loginScreen" class="login-screen">
    <div class="login-card">
      <div class="login-logo">
        <img
    src="assets/images/Balong.jpg"
    alt="BALONG Logo"
    class="login-logo-img"
  />
        <h1>Balong Haircut and Shaves Barbershop CCS</h1>
        <p class="login-subtitle">Computerized Cashier System</p>
      </div>

      <form id="loginForm" class="login-form">
        <div class="form-group">
          <label for="loginUsername">Username</label>
          <input id="loginUsername" type="text" placeholder="demo" required />
        </div>
        <div class="form-group">
          <label for="loginPassword">Password</label>
          <input id="loginPassword" type="password" placeholder="demo" required />
        </div>
        <div class="form-group">
          <label for="loginRole">Role</label>
          <select id="loginRole">
            <option value="admin">Admin</option>
            <option value="cashier">Cashier</option>
            <option value="barber">Barber</option>
          </select>
        </div>
        <button type="submit" class="btn btn-primary full-width">Sign In</button>
      </form>

      <div class="login-demo">
        <p><strong>Demo Credentials</strong></p>
        <p>Username: <code>demo</code></p>
        <p>Password: <code>demo</code></p>
        <p>Roles: Admin / Cashier / Barber</p>
      </div>
    </div>
  </div>

  <!-- APP SHELL -->
  <div id="appShell" class="app-shell hidden">
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="sidebar-logo">
        <div class="logo-circle small">
          <span class="material-symbols-outlined">content_cut</span>
        </div>
        <span class="sidebar-logo-text">Balong Haircut and Shaves Barbershop </span>
      </div>

      <nav class="sidebar-nav">
        <button class="nav-item active" data-view="dashboard">
          <span class="material-symbols-outlined">space_dashboard</span>
          <span>Dashboard</span>
        </button>
        <button class="nav-item" data-view="pos">
          <span class="material-symbols-outlined">point_of_sale</span>
          <span>POS</span>
        </button>
        <button class="nav-item" data-view="customers">
          <span class="material-symbols-outlined">person</span>
          <span>Customers</span>
        </button>
        <button class="nav-item" data-view="appointments">
          <span class="material-symbols-outlined">calendar_today</span>
          <span>Appointments</span>
        </button>
        <button class="nav-item" data-view="services">
          <span class="material-symbols-outlined">cut</span>
          <span>Services</span>
        </button>
        <button class="nav-item" data-view="inventory">
          <span class="material-symbols-outlined">inventory_2</span>
          <span>Inventory</span>
        </button>
        <button class="nav-item" data-view="barbers">
          <span class="material-symbols-outlined">groups</span>
          <span>Barbers</span>
        </button>
        <button class="nav-item" data-view="analytics">
          <span class="material-symbols-outlined">query_stats</span>
          <span>Analytics</span>
        </button>
        <button class="nav-item" data-view="reports">
          <span class="material-symbols-outlined">description</span>
          <span>Reports</span>
        </button>
        <button class="nav-item" data-view="settings">
          <span class="material-symbols-outlined">settings</span>
          <span>Settings</span>
        </button>
      </nav>

      <div class="sidebar-footer">
        <button id="logoutBtn" class="nav-item logout">
          <span class="material-symbols-outlined">logout</span>
          <span>Logout</span>
        </button>
      </div>
    </aside>

    <!-- Main Content -->
    <main class="main-content">
      <header class="topbar">
        <div class="topbar-left">
          <h2 id="topbarTitle">Dashboard – Today’s Overview</h2>
        </div>
        <div class="topbar-right">
          <span id="currentDate"></span>
        </div>
      </header>

      <div class="content-scroll">
        <!-- DASHBOARD VIEW -->
        <section id="view-dashboard" class="view">
          <div class="grid-3">
            <div class="card stat-card">
              <div class="stat-header">
                <span class="stat-title">Today’s Revenue</span>
                <span class="stat-icon material-symbols-outlined">payments</span>
              </div>
              <div class="stat-value" id="stat-today-revenue">$0.00</div>
              <div class="stat-sub" id="stat-today-tickets">0 tickets</div>
            </div>

            <div class="card stat-card">
              <div class="stat-header">
                <span class="stat-title">Total Tickets</span>
                <span class="stat-icon material-symbols-outlined">confirmation_number</span>
              </div>
              <div class="stat-value" id="stat-total-tickets">0</div>
              <div class="stat-sub" id="stat-average-ticket">Avg $0.00</div>
            </div>

            <div class="card stat-card">
              <div class="stat-header">
                <span class="stat-title">Commissions</span>
                <span class="stat-icon material-symbols-outlined">payments</span>
              </div>
              <div class="stat-value" id="stat-commissions-total">$0.00</div>
              <div class="stat-sub" id="stat-commissions-net">Net $0.00</div>
            </div>
          </div>

          <div class="grid-2">
            <div class="card">
              <div class="card-header">
                <h3>Top Services Today</h3>
              </div>
              <div class="card-body">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Service</th>
                      <th>Qty</th>
                      <th>Total</th>
                    </tr>
                  </thead>
                  <tbody id="top-services-body">
                    <tr class="empty-row">
                      <td colspan="3">No services sold today</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <h3>Revenue by Payment Type</h3>
              </div>
              <div class="card-body">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Payment Type</th>
                      <th>Tickets</th>
                      <th>Total</th>
                    </tr>
                  </thead>
                  <tbody id="revenue-payment-body">
                    <tr class="empty-row">
                      <td colspan="3">No sales today</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>

          <div class="card">
            <div class="card-header align-center">
              <div class="flex-center">
                <span class="material-symbols-outlined warning-icon">warning</span>
                <h3>Low Stock Alerts</h3>
              </div>
            </div>
            <div class="card-body">
              <ul id="low-stock-list" class="list">
                <li class="list-item">
                  <span>Conditioner</span>
                  <span class="badge badge-low">8 left</span>
                </li>
              </ul>
            </div>
          </div>
        </section>

        <!-- POS VIEW -->
        <section id="view-pos" class="view hidden">
          <div class="pos-layout">
            <div class="pos-left">
              <div class="card">
                <div class="card-header pos-header">
                  <div class="tabs">
                    <button id="pos-tab-services" class="tab active">Services</button>
                    <button id="pos-tab-products" class="tab">Products</button>
                  </div>
                  <div class="pos-search">
                    <span class="material-symbols-outlined">search</span>
                    <input id="pos-search-input" type="text" placeholder="Search services or products..." />
                  </div>
                </div>
                <div class="card-body">
                  <div id="pos-card-grid" class="card-grid"></div>
                </div>
              </div>
            </div>

            <div class="pos-right">
              <div class="card pos-summary-card">
                <div class="card-header">
                  <h3>Order Summary</h3>
                </div>
                <div class="card-body">
                  <div class="form-group">
                    <label for="posCustomerName">Customer Name</label>
                    <input id="posCustomerName" type="text" placeholder="Walk-in" />
                  </div>
                  <div class="form-group">
                    <label for="posBarberSelect">Barber</label>
                    <select id="posBarberSelect"></select>
                  </div>

                  <div id="cart-empty" class="cart-empty">
                    Cart is empty
                  </div>
                  <div id="cart-items" class="cart-items"></div>

                  <div class="divider"></div>

                  <div class="form-row">
                    <div class="form-group">
                      <label for="discountType">Discount Type</label>
                      <select id="discountType">
                        <option value="none">None</option>
                        <option value="percent">% Percent</option>
                        <option value="amount">₱ Amount</option>
                      </select>
                    </div>
                    <div class="form-group">
                      <label for="discountValue">Discount Value</label>
                      <input id="discountValue" type="number" min="0" step="0.01" />
                    </div>
                  </div>

                  <div class="form-group">
                    <label for="paymentTypeSelect">Payment Type</label>
                    <select id="paymentTypeSelect">
                      <option value="cash">Cash</option>
                      <option value="gcash">GCash</option>
                      <option value="card">Card</option>
                    </select>
                  </div>

                  <div class="totals">
                    <div class="totals-row">
                      <span>Subtotal</span>
                      <span id="cart-subtotal">$0.00</span>
                    </div>
                    <div class="totals-row">
                      <span>Tax</span>
                      <span id="cart-tax">$0.00</span>
                    </div>
                    <div class="totals-row totals-row-total">
                      <span>Total</span>
                      <span id="cart-total">$0.00</span>
                    </div>
                  </div>

                  <button id="checkoutButton" class="btn btn-primary full-width">
                    Checkout
                  </button>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- CUSTOMERS VIEW -->
        <section id="view-customers" class="view hidden">
          <div class="card">
            <div class="card-header between">
              <h3>Customers</h3>
              <button id="addCustomerBtn" class="btn btn-primary">Add Customer</button>
            </div>
            <div class="card-body">
              <table class="table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Phone</th>
                    <th>Email</th>
                    <th>Notes</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="customers-table-body">
                  <tr class="empty-row">
                    <td colspan="5">No customers yet</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- APPOINTMENTS VIEW -->
        <section id="view-appointments" class="view hidden">
          <div class="grid-2">
            <div class="card">
              <div class="card-header between">
                <h3>Appointments</h3>
                <button id="addAppointmentBtn" class="btn btn-primary">Add Appointment</button>
              </div>
              <div class="card-body">
                <table class="table">
                  <thead>
                    <tr>
                      <th>Date</th>
                      <th>Time</th>
                      <th>Customer</th>
                      <th>Barber</th>
                      <th>Service</th>
                      <th>Status</th>
                    </tr>
                  </thead>
                  <tbody id="appointments-table-body">
                    <tr class="empty-row">
                      <td colspan="6">No appointments yet</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>

            <div class="card">
              <div class="card-header">
                <h3>Weekly Calendar</h3>
              </div>
              <div class="card-body">
                <div id="appointments-calendar-grid" class="calendar-grid"></div>
              </div>
            </div>
          </div>
        </section>

        <!-- SERVICES VIEW -->
        <section id="view-services" class="view hidden">
          <div class="card">
            <div class="card-header between">
              <h3>Services</h3>
              <button id="addServiceBtn" class="btn btn-primary">Add Service</button>
            </div>
            <div class="card-body">
              <table class="table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Duration</th>
                    <th>Price</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="services-table-body">
                  <tr class="empty-row">
                    <td colspan="4">No services configured</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- INVENTORY VIEW -->
        <section id="view-inventory" class="view hidden">
          <div class="card">
            <div class="card-header between">
              <div>
                <h3>Inventory – Manage your product inventory</h3>
                <p class="card-subtitle">Track stock levels by category.</p>
              </div>
              <button id="addProductBtn" class="btn btn-primary">Add Product</button>
            </div>
            <div class="card-body">
              <table class="table">
                <thead>
                  <tr>
                    <th>Product</th>
                    <th>SKU</th>
                    <th>Category</th>
                    <th>Price</th>
                    <th>Stock</th>
                    <th>Supplier</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="inventory-table-body">
                  <tr class="empty-row">
                    <td colspan="7">No products yet</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- BARBERS VIEW -->
        <section id="view-barbers" class="view hidden">
          <div class="card">
            <div class="card-header between">
              <h3>Barbers</h3>
              <button id="addBarberBtn" class="btn btn-primary">Add Barber</button>
            </div>
            <div class="card-body">
              <table class="table">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Username</th>
                    <th>Contact</th>
                    <th>Commission Rate</th>
                    <th>Status</th>
                    <th>Actions</th>
                  </tr>
                </thead>
                <tbody id="barbers-table-body">
                  <tr class="empty-row">
                    <td colspan="6">No barbers added</td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- ANALYTICS VIEW -->
        <section id="view-analytics" class="view hidden">
          <div class="grid-3">
            <div class="card">
              <div class="card-header">
                <h3>Last 7 Days Revenue</h3>
              </div>
              <div class="card-body">
                <div id="analytics-7day-revenue">$0.00</div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h3>Top Barber (All Time)</h3>
              </div>
              <div class="card-body">
                <div id="analytics-top-barber">N/A</div>
              </div>
            </div>
            <div class="card">
              <div class="card-header">
                <h3>Top Service (All Time)</h3>
              </div>
              <div class="card-body">
                <div id="analytics-top-service">N/A</div>
              </div>
            </div>
          </div>
        </section>

        <!-- REPORTS VIEW -->
      <!-- REPORTS VIEW -->
<section id="view-reports" class="view hidden">
  <div class="card">
    <div class="card-header between">
      <h3>Reports – Sales Summary</h3>
    </div>
    <div class="card-body">
      <div class="reports-filters">
        <div class="form-group">
          <label for="reportDateFrom">From</label>
          <input id="reportDateFrom" type="date" />
        </div>
        <div class="form-group">
          <label for="reportDateTo">To</label>
          <input id="reportDateTo" type="date" />
        </div>
        <div class="form-group">
          <label for="reportPaymentType">Payment Type</label>
          <select id="reportPaymentType">
            <option value="all">All</option>
            <option value="cash">Cash</option>
            <option value="gcash">GCash</option>
            <option value="card">Card</option>
          </select>
        </div>
        <div class="reports-buttons">
          <button id="reportRefreshBtn" class="btn">
            Refresh
          </button>
          <button id="reportExportBtn" class="btn btn-primary">
            Export CSV
          </button>
        </div>
      </div>

      <div class="reports-summary">
        <div>
          <span class="reports-summary-label">Total Tickets:</span>
          <span id="reportTotalTickets">0</span>
        </div>
        <div>
          <span class="reports-summary-label">Total Revenue:</span>
          <span id="reportTotalRevenue">$0.00</span>
        </div>
        <div>
          <span class="reports-summary-label">Average Ticket:</span>
          <span id="reportAverageTicket">$0.00</span>
        </div>
      </div>

      <table class="table">
        <thead>
          <tr>
            <th>Date/Time</th>
            <th>Ticket #</th>
            <th>Customer</th>
            <th>Barber</th>
            <th>Payment</th>
            <th>Subtotal</th>
            <th>Tax</th>
            <th>Total</th>
          </tr>
        </thead>
        <tbody id="reports-table-body">
          <tr class="empty-row">
            <td colspan="8">No sales for selected period</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</section>


        <!-- SETTINGS VIEW -->
        <section id="view-settings" class="view hidden">
          <div class="card">
            <div class="card-header">
              <h3>Settings</h3>
            </div>
            <div class="card-body settings-grid">
              <div class="form-group">
                <label for="settingsShopName">Shop Name</label>
                <input id="settingsShopName" type="text" />
              </div>
              <div class="form-group">
                <label for="settingsShopAddress">Shop Address</label>
                <input id="settingsShopAddress" type="text" />
              </div>
              <div class="form-group">
                <label for="settingsShopPhone">Shop Phone</label>
                <input id="settingsShopPhone" type="text" />
              </div>
              <div class="form-group">
                <label for="settingsTaxRate">Tax Rate (%)</label>
                <input id="settingsTaxRate" type="number" min="0" step="0.01" />
              </div>
              <div class="form-group">
                <label for="settingsReceiptHeader">Receipt Header</label>
                <input id="settingsReceiptHeader" type="text" />
              </div>
              <div class="form-group">
                <label for="settingsReceiptFooter">Receipt Footer</label>
                <input id="settingsReceiptFooter" type="text" />
              </div>
              <div class="form-group checkbox-inline">
                <input id="settingsDarkMode" type="checkbox" />
                <label for="settingsDarkMode">Dark Mode (content only)</label>
              </div>
              <div class="form-group full-width">
                <button id="saveSettingsBtn" class="btn btn-primary">Save Settings</button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </main>
  </div>

  <!-- RECEIPT MODAL -->
  <div id="receiptModal" class="modal hidden">
    <div class="modal-backdrop"></div>
    <div class="modal-content receipt-modal">
      <div class="modal-header">
        <h3>Receipt</h3>
        <button id="receiptClose" class="icon-btn">
          <span class="material-symbols-outlined">close</span>
        </button>
      </div>
      <div id="receiptContent" class="receipt-content">
        <!-- Receipt HTML rendered here -->
      </div>
      <div class="modal-footer">
        <button id="printReceiptButton" class="btn btn-primary">Print Receipt</button>
      </div>
    </div>
  </div>

  <!-- Global popup / modal (no <dialog> used) -->
<div id="modalRoot" class="modal-root hidden">
  <div class="modal-backdrop"></div>
  <div class="modal-container modal-md">
    <header class="modal-header">
      <h3 id="modalTitle"></h3>
      <button id="modalCloseBtn" class="modal-close-btn" type="button">
        &times;
      </button>
    </header>
    <div id="modalBody" class="modal-body"></div>
    <footer id="modalFooter" class="modal-footer"></footer>
  </div>
</div>

  <script type="module" src="/assets/js/app.js"></script>
</body>
</html>
